@page "/"
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager NavigationManager

@code{
    protected override async Task OnInitializedAsync()
    {
        var auth = await AuthStateProvider.GetAuthenticationStateAsync();
        if (auth.User.Identity.IsAuthenticated)
        {
            var role = auth.User.FindFirst(claim => claim.Type == ClaimTypes.Role).Value;
            NavigationManager.NavigateTo($"{role}/reports");
        }
        else
        {
            NavigationManager.NavigateTo("login");
        }
    }

}