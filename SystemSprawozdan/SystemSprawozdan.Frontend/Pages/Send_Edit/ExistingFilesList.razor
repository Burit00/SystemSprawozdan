<style>
    .main-container-files-list{
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow-y: scroll;
    }
        
    .file-item{
        display: flex;
        align-items: center;
        width: 100%;
        background-color: rgb(211, 211, 211);
        border: solid black 2px;
        border-radius: 5px;
        justify-content: space-between;
        margin-bottom: 15px;
        padding: 16px 20px;
    }
    
    .img-text{
          display: flex;
          justify-content: space-between;
          height: 100%;
          align-items: center;
    }
    
    .file-icon{
        margin-right: 5px;
        height: 80%;
    }
    
    .file-name{
        font-size: 1.3rem;
    }
    
    .button{
        height: 100%;
        width: 10%;
        background-color: inherit;
        border: none;
        cursor: pointer;
        appearance: none;
    }

</style>

<div class="main-container-files-list">
    @foreach (var file in Files)
    {
        <div class="file-item">
            <div class="img-text">
                @switch (file.ContentType)
                {
                    case "image/bmp":
                    {
                        <img src="Icons/Send_edit/jpg_png-icon.svg" alt="Image file icon." class="file-icon"/>
                        break;
                    }
                    case "text/csv":
                    {
                        <img src="Icons/Send_edit/csv_xls-icon.svg" alt="Csv file icon." class="file-icon"/>
                        break;
                    }
                    case "application/msword":
                    {
                        <img src="Icons/Send_edit/doc_docx-icon.svg" alt="Word file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.openxmlformats-officedocument.wordprocessingml.document":
                    {
                        <img src="Icons/Send_edit/doc_docx-icon.svg" alt="Docx file icon." class="file-icon"/>
                        break;
                    }
                    case "image/jpeg":
                    {
                        <img src="Icons/Send_edit/jpg_png-icon.svg" alt="Image file icon." class="file-icon"/>
                        break;
                    }
                    case "image/png":
                    {
                        <img src="Icons/Send_edit/jpg_png-icon.svg" alt="Image file icon." class="file-icon"/>
                        break;
                    }
                    case "application/pdf":
                    {
                        <img src="Icons/Send_edit/pdf-icon.svg" alt="Pdf file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.ms-powerpoint":
                    {
                        <img src="Icons/Send_edit/ppt_pptx-icon.svg" alt="Powerpoint file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.openxmlformats-officedocument.presentationml.presentation":
                    {
                        <img src="Icons/Send_edit/ppt_pptx-icon.svg" alt="Powerpoint file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.rar":
                    {
                        <img src="Icons/Send_edit/zip_7zip_rar-icon.svg" alt="Zip file icon." class="file-icon"/>
                        break;
                    }
                    case "application/x-tar":
                    {
                        <img src="Icons/Send_edit/zip_7zip_rar-icon.svg" alt="Zip file icon." class="file-icon"/>
                        break;
                    }
                    case "text/plain":
                    {
                        <img src="Icons/Send_edit/txt-icon.svg" alt="Txt file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.ms-excel":
                    {
                        <img src="Icons/Send_edit/csv_xls-icon.svg" alt="Excel file icon." class="file-icon"/>
                        break;
                    }
                    case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":
                    {
                        <img src="Icons/Send_edit/csv_xls-icon.svg" alt="Excel file icon." class="file-icon"/>
                        break;
                    }
                    case "application/zip":
                    {
                        <img src="Icons/Send_edit/zip_7zip_rar-icon.svg" alt="Zip file icon." class="file-icon"/>
                        break;
                    }
                    case "application/x-zip-compressed":
                    {
                        <img src="Icons/Send_edit/zip_7zip_rar-icon.svg" alt="Zip file icon." class="file-icon"/>
                        break;
                    }    
                    case "application/x-7z-compressed":
                    {
                        <img src="Icons/Send_edit/zip_7zip_rar-icon.svg" alt="Zip file icon." class="file-icon"/>
                        break;
                    }
                    default:
                    {
                        <img src="Icons/Send_edit/default-file.svg" alt="Default file icon." class="file-icon"/>
                        break;
                    }
                }
                <span class="file-name">@file.OriginalFileName</span>
            </div>
            
            <button class="button" onclick="@(() => { paramsData.Add(file.RandomizedFileName); paramsData.Add(file.OriginalFileName); InvokeRemoveFile(paramsData); })">
                <img src="Icons/Send_edit/Send/download-icon.svg" alt="x-button" style="width: 100%; height: 100%"/>
            </button>
        </div>
    }
</div>


@code {

    [Parameter]
    public List<StudentReportFileGetDto> Files { get; set; } = new();
    
    [Parameter]
    public EventCallback<List<string>> SendFileToDownloadData { get; set; }

    public List<string> paramsData = new();
    
    private void InvokeRemoveFile(List<string> dataList)
    {
        SendFileToDownloadData.InvokeAsync(dataList);
        paramsData.Clear();
    }
    
}